{"version":3,"file":"src_app_new-student_new-student_module_ts.js","mappings":"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","sources":["./src/app/new-student/new-student-routing.module.ts","./src/app/new-student/new-student.module.ts","./src/app/new-student/new-student.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NewStudentPage } from './new-student.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NewStudentPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class NewStudentPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NewStudentPageRoutingModule } from './new-student-routing.module';\r\n\r\nimport { NewStudentPage } from './new-student.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    NewStudentPageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [NewStudentPage]\r\n})\r\nexport class NewStudentPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Student } from '../models/student';\r\nimport { StudentService } from '../services/student.service';\r\nimport { FormGroup,FormBuilder, Validators } from '@angular/forms';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ToastController } from '@ionic/angular';\r\n@Component({\r\n  selector: 'app-new-student',\r\n  templateUrl: './new-student.page.html',\r\n  styleUrls: ['./new-student.page.scss'],\r\n})\r\nexport class NewStudentPage implements OnInit {\r\n  public student: Student;\r\n  public myForm : FormGroup;\r\n  public validatorsMessages: Object;\r\n\r\n  constructor(private studentService: StudentService, private fb: FormBuilder,\r\n    private alertController: AlertController, private toastController: ToastController) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.myForm= this.fb.group(\r\n      {\r\n        carrera:[\"\",Validators.compose([Validators.required])],\r\n        controlnumber:[\"\",Validators.compose([Validators.required,Validators.minLength(8),Validators.maxLength(8), Validators.pattern('^[0-9]+$')])],\r\n        name:[\"\",Validators.compose([Validators.required])],\r\n        curp:[\"\",Validators.compose([Validators.required,Validators.pattern(\"^[A-Z]{1}[AEIOU]{1}[A-Z]{2}[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[HM]{1}(AS|BC|BS|CC|CS|CH|CL|CM|DF|DG|GT|GR|HG|JC|MC|MN|MS|NT|NL|OC|PL|QT|QR|SP|SL|SR|TC|TS|TL|VZ|YN|ZS|NE)[B-DF-HJ-NP-TV-Z]{3}[0-9A-Z]{1}[0-9]{1}$\")])], //pattern\r\n        age:[\"\",Validators.compose([Validators.required,Validators.min(17),Validators.pattern('^[0-9]+')])],\r\n        nip:[\"\",Validators.compose([Validators.required,Validators.min(10),Validators.max(9999)])],\r\n        email:[\"\",Validators.compose([Validators.required,Validators.pattern(\"^[^@]+@[^@]+\\.[a-zA-Z0-9-]{2,}$\")])], //pattern\r\n        photo:[\"\",Validators.compose([Validators.required,Validators.pattern(/https?:\\/\\/[\\w\\-\\.]+\\.\\w{2,5}\\/?\\S*/)])]\r\n      }\r\n    );\r\n    this.validatorsMessages = {\r\n      'controlnumber':[\r\n        {type: 'required',message:\"Número de control obligatorio\"},\r\n        {type: 'minlength',message:\"Número de control debe ser de 8 dígitos\"},\r\n        {type: 'maxlength',message:\"Número de control debe ser de 8 dígitos\"},\r\n        {type: 'pattern',message:\"Número de control mal formado\"}\r\n      ],\r\n      'name':[\r\n        {type: 'required',message:\"Nombre obligatorio\"}\r\n      ],\r\n      'curp':[\r\n        {type: 'required',message:\"CURP obligatorio\"},\r\n        {type: 'pattern',message:\"CURP mal formado\"} //PATTERN\r\n      ],\r\n      'age':[\r\n        {type: 'required',message:\"Edad obligatoria\"},\r\n        {type: 'min',message:\"Debes tener 17 años o más\"},\r\n        {type: 'pattern',message:\"Ingresa sólo dígitos\"}\r\n      ],\r\n      'nip':[\r\n        {type: 'required',message:\"NIP obligatorio\"},\r\n        {type: 'min',message:\"Tu NIP debe tener mínimo 2 digitos\"},\r\n        {type: 'max',message:\"Tu NIP debe tener máximo 4 digitos\"}\r\n      ],\r\n      'email':[\r\n        {type: 'required',message:\"Email obligatorio\"}, //PATTERN\r\n        {type: 'pattern',message:\"Email mal formado\"}\r\n      ],\r\n      'photo':[\r\n        {type: 'required',message:\"Foto obligatoria\"},\r\n        {type: 'pattern',message:\"Foto mal formada\"} //PATTERN\r\n       \r\n      ]\r\n\r\n    }\r\n  }\r\n  async presentAlertError() {\r\n    const alert = await this.alertController.create({\r\n      header: 'Alerta',\r\n      subHeader: 'Aviso: ',\r\n      message: 'NO se guardo, ingrese todos los campos!',\r\n      buttons: ['OK'],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n    async presentToast(position: 'top' | 'middle' | 'bottom') {\r\n    const toast = await this.toastController.create({\r\n      message: 'GUARDADO CORRECTAMENTE!',\r\n      duration: 1500,\r\n      position,\r\n      color:'success'\r\n    });\r\n\r\n    await toast.present();\r\n  }\r\n  public newStudent(){\r\n    if(this.myForm.get('name').value!==''){\r\n      this.student = {\r\n\r\n        controlnumber: this.myForm.get('controlnumber').value,\r\n        name: this.myForm.get('name').value,\r\n        curp: this.myForm.get('curp').value,\r\n        age: this.myForm.get('age').value,\r\n        nip: this.myForm.get('nip').value,\r\n        email: this.myForm.get('email').value,\r\n        career: this.myForm.get('carrera').value,\r\n        photo: this.myForm.get('photo').value,\r\n      \r\n      }  \r\n      this.studentService.newStudent(this.student);\r\n              //this.presentAlert();\r\n        this.presentToast(\"top\")\r\n        console.log(this.student);\r\n      }else{\r\n        console.log(this.student);\r\n        this.presentAlertError()\r\n      }\r\n    }\r\n \r\n\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}