{"version":3,"file":"src_app_edit-student_edit-student_module_ts.js","mappings":"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","sources":["./src/app/edit-student/edit-student-routing.module.ts","./src/app/edit-student/edit-student.module.ts","./src/app/edit-student/edit-student.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditStudentPage } from './edit-student.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditStudentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditStudentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EditStudentPageRoutingModule } from './edit-student-routing.module';\r\n\r\nimport { EditStudentPage } from './edit-student.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    EditStudentPageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [EditStudentPage]\r\n})\r\nexport class EditStudentPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Student } from '../models/student';\r\nimport { StudentService } from '../services/student.service';\r\nimport { FormGroup,FormBuilder, Validators } from '@angular/forms';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-edit-student',\r\n  templateUrl: './edit-student.page.html',\r\n  styleUrls: ['./edit-student.page.scss'],\r\n})\r\nexport class EditStudentPage implements OnInit {\r\n  public student: Student;\r\n  public myForm : FormGroup;\r\n  public validatorsMessages: Object;\r\n\r\n  constructor(private studentService: StudentService, private fb: FormBuilder, private activatedRoute: ActivatedRoute,\r\n    private alertController: AlertController, private toastController: ToastController, private router: Router) { \r\n\r\n\r\n    }\r\n\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.queryParams.subscribe((params)=>{\r\n        const res = params.get\r\n        console.log(params.cn+\"Hola\");\r\n        this.student = this.studentService.getStudentByControlNumber(params.cn);\r\n      }\r\n    );\r\n\r\n    this.myForm= this.fb.group(\r\n      {\r\n        carrera:[\"\",Validators.compose([Validators.required])],\r\n        controlnumber:[\"\",Validators.compose([Validators.required,Validators.minLength(8),Validators.maxLength(8), Validators.pattern('^[0-9]+$')])],\r\n        name:[\"\",Validators.compose([Validators.required])],\r\n        curp:[\"\",Validators.compose([Validators.required,Validators.pattern(\"^[A-Z]{1}[AEIOU]{1}[A-Z]{2}[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[HM]{1}(AS|BC|BS|CC|CS|CH|CL|CM|DF|DG|GT|GR|HG|JC|MC|MN|MS|NT|NL|OC|PL|QT|QR|SP|SL|SR|TC|TS|TL|VZ|YN|ZS|NE)[B-DF-HJ-NP-TV-Z]{3}[0-9A-Z]{1}[0-9]{1}$\")])], //pattern\r\n        age:[\"\",Validators.compose([Validators.required,Validators.min(17),Validators.pattern('^[0-9]+')])],\r\n        nip:[\"\",Validators.compose([Validators.required,Validators.min(10),Validators.max(9999)])],\r\n        email:[\"\",Validators.compose([Validators.required,Validators.pattern(\"^[^@]+@[^@]+\\.[a-zA-Z0-9-]{2,}$\")])], //pattern\r\n        photo:[\"\",Validators.compose([Validators.required,Validators.pattern(/https?:\\/\\/[\\w\\-\\.]+\\.\\w{2,5}\\/?\\S*/)])]\r\n      }\r\n    );\r\n    this.validatorsMessages = {\r\n      'controlnumber':[\r\n        {type: 'required',message:\"Número de control obligatorio\"},\r\n        {type: 'minlength',message:\"Número de control debe ser de 8 dígitos\"},\r\n        {type: 'maxlength',message:\"Número de control debe ser de 8 dígitos\"},\r\n        {type: 'pattern',message:\"Número de control mal formado\"}\r\n      ],\r\n      'name':[\r\n        {type: 'required',message:\"Nombre obligatorio\"}\r\n      ],\r\n      'curp':[\r\n        {type: 'required',message:\"CURP obligatorio\"},\r\n        {type: 'pattern',message:\"CURP mal formado\"} //PATTERN\r\n      ],\r\n      'age':[\r\n        {type: 'required',message:\"Edad obligatoria\"},\r\n        {type: 'min',message:\"Debes tener 17 años o más\"},\r\n        {type: 'pattern',message:\"Ingresa sólo dígitos\"}\r\n      ],\r\n      'nip':[\r\n        {type: 'required',message:\"NIP obligatorio\"},\r\n        {type: 'min',message:\"Tu NIP debe tener mínimo 2 digitos\"},\r\n        {type: 'max',message:\"Tu NIP debe tener máximo 4 digitos\"}\r\n      ],\r\n      'email':[\r\n        {type: 'required',message:\"Email obligatorio\"}, //PATTERN\r\n        {type: 'pattern',message:\"Email mal formado\"}\r\n      ],\r\n      'photo':[\r\n        {type: 'required',message:\"Foto obligatoria\"}, //PATTERN\r\n        {type: 'pattern',message:\"URL de foto mal formado\"}\r\n      ]\r\n\r\n    }\r\n  }\r\n  async presentAlertError() {\r\n    const alert = await this.alertController.create({\r\n      header: 'Alerta',\r\n      subHeader: 'Aviso: ',\r\n      message: 'NO se guardo, ingrese todos los campos!',\r\n      buttons: ['OK'],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n    async presentToast(position: 'top' | 'middle' | 'bottom') {\r\n    const toast = await this.toastController.create({\r\n      message: 'GUARDADO CORRECTAMENTE!',\r\n      duration: 1500,\r\n      position,\r\n      color:'success'\r\n    });\r\n\r\n    await toast.present();\r\n  }/*\r\n  public newStudent(){\r\n    if(this.myForm.get('name').value!==''){\r\n      this.student = {\r\n\r\n        controlnumber: this.myForm.get('controlnumber').value,\r\n        name: this.myForm.get('name').value,\r\n        curp: this.myForm.get('curp').value,\r\n        age: this.myForm.get('age').value,\r\n        nip: this.myForm.get('nip').value,\r\n        email: this.myForm.get('email').value,\r\n        career: this.myForm.get('carrera').value,\r\n        photo: this.myForm.get('photo').value,\r\n      \r\n      }  \r\n      this.studentService.editStudent(1, this.student);\r\n              //this.presentAlert();\r\n        this.presentToast(\"top\")\r\n        console.log(this.student);\r\n      }else{\r\n        console.log(this.student);\r\n        this.presentAlertError()\r\n      }\r\n    }*/\r\n\r\n    public editStudent(){\r\n      this.student={\r\n        controlnumber: this.myForm.value.controlnumber,\r\n        age: this.myForm.value.age,\r\n        career: this.myForm.value.career,\r\n        curp: this.myForm.value.curp,\r\n        email: this.myForm.value.email,\r\n        name: this.myForm.value.name,\r\n        nip: this.myForm.value.nip,\r\n        photo: this.myForm.value.photo\r\n      }\r\n  \r\n      this.studentService.editStudent(this.student);\r\n      this.router.navigate(['/home'], {\r\n      });\r\n    }\r\n \r\n\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}